# 5. Analyze

### Key Findings & Insights
The analysis of the cleaned and processed data revealed clear, actionable insights that directly answer the guiding questions of the case study. The findings are summarized below and presented in detail in the visualizations that follow.

1.  **Late Delivery is the Primary Driver of Negative Reviews:** The data shows an undeniable correlation between delivery delays and review scores. The longer an order is delayed past its estimated delivery date, the higher the probability of receiving a negative review.

2.  **Certain Product Categories Consistently Underperform:** While delivery time is a major factor, the analysis also identified a small number of product categories that have a disproportionately high rate of negative reviews, suggesting issues beyond just shipping.

3.  **Geographic Disparities in Seller Performance:** Seller performance is not uniform across Brazil. Sellers located in specific states have a significantly higher rate of negative reviews, pointing to regional operational challenges.

---

### R Visualizations & Scripts

The findings of this analysis were visualized using R with the `ggplot2` library. The scripts used to generate each visualization are provided below for full transparency and reproducibility.

#### Finding 1: Delivery Delays vs. Review Scores
This density plot clearly shows that the distribution for positive reviews peaks when deliveries are early (left of the dashed line), while the distribution for negative reviews peaks when deliveries are late (right of the dashed line). This is the strongest evidence that meeting and beating delivery estimates is critical for customer satisfaction.

![Density Plot of Review Category](https://github.com/auraflaa/Olist-Customer-Satisfaction-Analysis/blob/main/Visualisations/Density%20Plot%20of%20Review%20Category.png)

<details>
<summary><strong>▶ Click to view the R code for the Density Plot</strong></summary>

```R
ggplot(simplified_seller_performance_review, 
       aes(x = delivery_diff_days, fill = review_category, color = review_category)) +
  geom_density(alpha = 0.5) +
  geom_vline(xintercept = 0, linetype = "dashed", color = "black") +
  labs(title = "Delivery Delay Profiles for Positive vs. Negative Reviews",
       x = "Delivery Delay (Days)",
       y = "Density") +
  theme_minimal()
```
</details>

For a more granular view, the scatter plot below shows each individual order, adding the dimension of seller processing time. This confirms the trend and highlights the high concentration of negative reviews (red dots) in the "Delivered Late" zone.

![Scatter Plot of Review vs Delivery Delay](https://github.com/auraflaa/Olist-Customer-Satisfaction-Analysis/blob/main/Visualisations/Review%20vs%20Delivery%20Delay.png)

<details>
<summary><strong>▶ Click to view the R code for the Scatter Plot</strong></summary>

```R
#Scatter Plot
ggplot(simplified_seller_performance_review,
       aes(y = seller_processing_days,
           x = delivery_diff_days,
           color = review_category)) +
  geom_jitter(alpha = 0.6, width = 0.3, height = 0.3) +
  geom_vline(xintercept = 0, linetype = "dashed", color = "black", linewidth = 0.8) +
  annotate("text", x = -150, y = 80, label = "Delivered Early", hjust = 0, size = 4, color = "darkgreen") +
  annotate("text", x = 100, y = 80, label = "Delivered Late", hjust = 0, size = 4, color = "darkred") +
  scale_y_continuous(expand = c(0, 0), limits = c(-5, NA)) +
  labs(title = 'Review vs Delivery Date',
       x = 'Delivery Delays (Days)',
       y = 'Seller Processing Days') +
  theme_minimal()
```
</details>

#### Finding 2: Problem Product Categories
This bar chart highlights the top 20 product categories with the highest percentage of negative reviews, allowing for easy identification of problem areas that may require further investigation into product quality or seller practices.

![Review Score as per Product Category](https://github.com/auraflaa/Olist-Customer-Satisfaction-Analysis/blob/main/Visualisations/Review%20Score%20as%20per%20Product%20Category.png)

<details>
<summary><strong>▶ Click to view the R code for the Bar Chart</strong></summary>

```R
category_data <- Category_negative_review
top_categories <- category_data %>%
  arrange(desc(percentage_negative_reviews)) %>%
  head(20)
ggplot(top_categories, 
       aes(x = percentage_negative_reviews, 
           y = reorder(category_name_display, percentage_negative_reviews),
           fill = percentage_negative_reviews)) +
  geom_col() +
  scale_fill_gradient(low = "green", high = "red", name = "% Negative") +
  labs(
    title = "Review Score as per Product Category",
    subtitle = "Top 20 categories with the highest percentage of negative reviews",
    x = "Percentage Negative Reviews",
    y = "Category Name"
  ) +
  theme_minimal(base_size = 14) +
  theme(
    legend.position = "right",
    plot.title = element_text(face = "bold", size = 18),
    axis.text.y = element_text(size = 12)
  )
```
</details>

#### Finding 3: Geographic Hotspots
This map of Brazil visualizes the rate of negative reviews by seller location. The color of each point indicates the percentage of negative reviews (red being higher), and the size indicates the total number of reviews from that area. This provides a clear geographic overview of performance.

![Geographic Hotspots for Negative Reviews](https://github.com/auraflaa/Olist-Customer-Satisfaction-Analysis/blob/main/Visualisations/Geographic%20Hotspots%20for%20Negative%20Reviews.png)

<details>
<summary><strong>▶ Click to view the R code for the Map Visualization</strong></summary>

```R
library(ggplot2)
library(dplyr)
library(rnaturalearth)
geographic_data <- negative_review_distribution
brazil_map <- ne_countries(scale = "medium", country = "Brazil", returnclass = "sf")
ggplot() +
  geom_sf(data = brazil_map, fill = "gray90", color = "white") +
  geom_point(data = geographic_data, 
             aes(x = geolocation_lng, 
                 y = geolocation_lat, 
                 size = total_reviews, 
                 color = percentage_negative_reviews),
             alpha = 0.6) +
  scale_color_gradient(low = "green", high = "red", name = "% Negative Reviews") +
  scale_size_continuous(range = c(2, 12), name = "Total Reviews") +
  labs(
    title = "Geographic Hotspots of Negative Reviews",
    subtitle = "Seller locations in southeastern Brazil show a higher concentration of negative reviews",
    x = "Longitude",
    y = "Latitude",
    caption = "Data Source: Olist Public Dataset"
  ) +
  theme_void(base_size = 14) +
  theme(
    legend.position = "right",
    plot.title = element_text(face = "bold", size = 18, hjust = 0.5),
    plot.subtitle = element_text(size = 12, hjust = 0.5, color = "gray40"),
    plot.background = element_rect(fill = "white", color = NA)
  )
```
</details>
